# Set the output file path for saving the deleted file names
$deletionFilePath = "C:\Users\com300\Downloads\deletion.txt"

# Find .c files in C:\Users\com300 with no depth limit, excluding C:\Users\com300\.vscode
# Search C:\Users\com300 without depth limit
Get-ChildItem -Path "C:\Users\com300" -Filter "*.c" -Recurse | Where-Object { $_.FullName -notlike "C:\Users\com300\.vscode*" } | ForEach-Object {
    # Save the name of the deleted file to the deletion.txt file
    $_.FullName | Out-File -FilePath $deletionFilePath -Append
}

# Search all other directories with max depth of 2, excluding C:\Users\com300\.vscode
Get-ChildItem -Path . -Filter "*.c" -Recurse -Depth 2 | Where-Object { $_.FullName -notlike "C:\Users\com300\.vscode*" -and $_.FullName -notlike "C:\Users\com300*" } | ForEach-Object {
    # Save the name of the deleted file to the deletion.txt file
    $_.FullName | Out-File -FilePath $deletionFilePath -Append
}


---------------------------------------------

# Set the output file path for saving the deleted file names
$outputFilePath = "C:\Users\com300\Downloads\output.txt"

# Find and delete .c files in C:\Users\com300 with no depth limit, excluding C:\Users\com300\.vscode
# Search C:\Users\com300 without depth limit
Get-ChildItem -Path "C:\Users\com300" -Filter "*.c" -Recurse | Where-Object { $_.FullName -notlike "C:\Users\com300\.vscode*" } | ForEach-Object {
    # Save the name of the deleted file to the output.txt file
    $_.FullName | Out-File -FilePath $outputFilePath -Append

    # Delete the file
    Remove-Item $_.FullName -Force
}

# Search all other directories with max depth of 2, excluding C:\Users\com300\.vscode
Get-ChildItem -Path . -Filter "*.c" -Recurse -Depth 2 | Where-Object { $_.FullName -notlike "C:\Users\com300\.vscode*" -and $_.FullName -notlike "C:\Users\com300*" } | ForEach-Object {
    # Save the name of the deleted file to the output.txt file
    $_.FullName | Out-File -FilePath $outputFilePath -Append

    # Delete the file
    Remove-Item $_.FullName -Force
}